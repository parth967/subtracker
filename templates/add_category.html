{% extends "base.html" %}

{% block title %}Add Category - Subscription Manager{% endblock %}

{% block content %}
<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-lg-6 col-xl-5">
            <div class="card animate-fade-in">
                <div class="card-header text-center">
                    <h4 class="mb-0 fw-bold">
                        <i class="fas fa-tags me-2 text-danger"></i>Add New Category
                    </h4>
                    <p class="text-muted mb-0 mt-2">Organize your subscriptions</p>
                </div>
                <div class="card-body p-4">
                    <form method="POST">
                        <div class="mb-4">
                            <label for="name" class="form-label fw-semibold">
                                <i class="fas fa-tag me-2 text-primary"></i>Category Name
                            </label>
                            <input type="text" class="form-control form-control-lg" id="name" name="name" required 
                                   placeholder="Entertainment, Productivity, etc.">
                        </div>

                        <div class="mb-4">
                            <label for="icon" class="form-label fw-semibold">
                                <i class="fas fa-icons me-2 text-info"></i>Icon
                            </label>
                            <select class="form-select form-select-lg" id="icon" name="icon" required>
                                <option value="">Select an icon</option>
                                <option value="fas fa-play">ğŸ¬ Play (Streaming)</option>
                                <option value="fas fa-music">ğŸµ Music</option>
                                <option value="fas fa-laptop-code">ğŸ’» Laptop Code (Software)</option>
                                <option value="fas fa-cloud">â˜ï¸ Cloud (Storage)</option>
                                <option value="fas fa-newspaper">ğŸ“° Newspaper (News)</option>
                                <option value="fas fa-dumbbell">ğŸ‹ï¸ Dumbbell (Fitness)</option>
                                <option value="fas fa-gamepad">ğŸ® Gamepad (Gaming)</option>
                                <option value="fas fa-tasks">âœ… Tasks (Productivity)</option>
                                <option value="fas fa-shopping-cart">ğŸ›’ Shopping</option>
                                <option value="fas fa-utensils">ğŸ½ï¸ Food & Dining</option>
                                <option value="fas fa-car">ğŸš— Transportation</option>
                                <option value="fas fa-home">ğŸ  Home & Utilities</option>
                                <option value="fas fa-graduation-cap">ğŸ“ Education</option>
                                <option value="fas fa-heart">â¤ï¸ Health & Wellness</option>
                                <option value="fas fa-star">â­ Other</option>
                            </select>
                        </div>

                        <div class="mb-4">
                            <label for="color" class="form-label fw-semibold">
                                <i class="fas fa-palette me-2 text-warning"></i>Color Theme
                            </label>
                            <select class="form-select form-select-lg" id="color" name="color" required>
                                <option value="">Select a color</option>
                                <option value="primary">ğŸ”µ Blue (Primary)</option>
                                <option value="success">ğŸŸ¢ Green (Success)</option>
                                <option value="danger">ğŸ”´ Red (Danger)</option>
                                <option value="warning">ğŸŸ¡ Yellow (Warning)</option>
                                <option value="info">ğŸ”µ Light Blue (Info)</option>
                                <option value="secondary">âš« Gray (Secondary)</option>
                                <option value="dark">âš« Dark</option>
                            </select>
                        </div>

                        <div class="mb-4">
                            <div class="card bg-light">
                                <div class="card-body text-center">
                                    <h6>Preview:</h6>
                                    <span id="preview-badge" class="badge bg-primary">
                                        <i class="fas fa-star me-1"></i>Category Name
                                    </span>
                                </div>
                            </div>
                        </div>

                        <div class="d-grid gap-3 d-md-flex justify-content-md-center mt-4">
                            <a href="{{ url_for('dashboard') }}" class="btn btn-secondary btn-lg px-4">
                                <i class="fas fa-arrow-left me-2"></i>Cancel
                            </a>
                            <button type="submit" class="btn btn-danger btn-lg px-4">
                                <i class="fas fa-tags me-2"></i>Add Category
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
    // Update preview when form changes
    function updatePreview() {
        const name = document.getElementById('name').value || 'Category Name';
        const icon = document.getElementById('icon').value || 'fas fa-star';
        const color = document.getElementById('color').value || 'primary';
        
        const preview = document.getElementById('preview-badge');
        preview.className = `badge bg-${color}`;
        preview.innerHTML = `<i class="${icon} me-1"></i>${name}`;
    }

    document.getElementById('name').addEventListener('input', updatePreview);
    document.getElementById('icon').addEventListener('change', updatePreview);
    document.getElementById('color').addEventListener('change', updatePreview);
</script>
{% endblock %}